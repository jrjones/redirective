# Swifth Idiomatic Rules
(C) Copyright 2025, [Joseph R. Jones](https://jrj.org)
Licensed under MIT License

Please follow the following guidelines when generating code in Swift.

## 1 -- Create modern targets
Start new work with Xcode 16's **App (SwiftUI)** template or swift package init; enable Swift 6 mode and -strict-concurrency=complete so the compiler enforces data-race freedom.

## 2 -- Use Swift Package Manager
Treat every feature as its own Swift package; expose only what must be public and let DocC/autogenerated docs describe the surface. (SPM is Apple's default in all WWDC24 samples.)

## 3 -- Follow the Swift API Design Guidelines
Lower-camelCase for members, UpperCamelCase for types, use argument labels that form a fluid sentence, and start every /// comment with a one-sentence summary. Clarity trumps brevity.

## 4 -- Prefer value semantics
Model domain data with struct and enum; reach for class only when identity or Obj-C interop is required.

## 5 -- Keep view code tiny, logic elsewhere
In UIKit, view controllers coordinate views--nothing more. In SwiftUI, compose many small Views and move business logic into dedicated types (actors, models, services). Modern samples never exceed ~150 LOC per view.

## 6 -- SwiftUI first
Adopt SwiftUI across iOS, macOS, visionOS, watchOS, tvOS; fall back to UIKit/AppKit only for missing APIs.

## 7 -- Manage state with Observation
Replace ObservableObject with the @Observable macro; mutate on the main actor unless the type is explicitly Sendable.

## 8 -- Persist with SwiftData
Use @Model types, automatic migrations, and fetch macros instead of Core Data boilerplate.

## 9 -- Structured concurrency everywhere
Write asynchronous code with async/await, Task, async let, and withTaskGroup; protect mutable shared state with actors; mark cross-thread types Sendable.

## 10 -- Leverage Swift macros
Reach for @Observable, #Preview, and small custom macros to eliminate boilerplate while keeping them well-documented and test-covered.

## 11 -- Thoughtful error handling
Throw typed enum errors, propagate with try/await, surface issues to users with SwiftUI alert, and reserve fatalError for truly unrecoverable invariants.

## 12 -- Test with *Swift Testing*
Write expressive specs using the new package (import Testing), organize suites, run in parallel, and gate merges on swift test --enable-code-coverage.

## 13 -- Stay formatted and lint-clean
Run swift-format and swiftlint --strict in a pre-commit hook; commit only formatted code.

## 14 -- Accessibility and localisation are mandatory
Add .accessibilityLabel, support Dynamic Type, VoiceOver, and use String(localized:), formatted numbers, and locale-aware dates.

## 15 -- Performance is measured, not guessed
Profile with Instruments, prefer value types, cache only with proven wins, and watch memory in visionOS.

## 16 -- Ship WWDC-quality visuals
Adopt SF Symbols, Swift Charts, depth/blur materials, modern navigation, and shader-powered effects so the UI looks like a WWDC 24 sample.

## 17 -- Prepare for the next release
Write code that builds clean with -enable-library-evolution; keep dependencies in SPM and run Xcode betas early so the project is "WWDC25-ready" with minimal diff.

